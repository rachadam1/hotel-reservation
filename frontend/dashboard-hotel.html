<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Tableau de bord hôtel</title>
  <style>
    body { font-family: Arial; padding: 40px; background: #f4f8fc; }
    h1 { text-align: center; }
    .stat { background: white; padding: 20px; margin: 20px auto; max-width: 600px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .stat h2 { margin-bottom: 10px; }
    .stat p { font-size: 18px; margin: 5px 0; }
  </style>
</head>
<body>
  <h1>📊 Tableau de bord de l’hôtel</h1>
  <div class="stat" id="stats"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const hotelId = params.get('id');

    async function chargerStats() {
      const res = await fetch(`http://localhost:3000/api/hotels/${hotelId}/stats`);
      const stats = await res.json();

      document.getElementById('stats').innerHTML = `
        <h2>${stats.nom}</h2>
        <p>🛏️ Chambres totales : ${stats.total_chambres}</p>
        <p>🟢 Chambres disponibles : ${stats.chambres_disponibles}</p>
        <p>🔴 Chambres occupées : ${stats.chambres_occupees}</p>
        <p>📅 Réservations en cours : ${stats.reservations_actives}</p>
        <p>💰 Revenus estimés (classique) : ${stats.revenu_classique} FCFA</p>
        <p>💰 Revenus estimés (horaire) : ${stats.revenu_horaire} FCFA</p>
      `;
    }

    chargerStats();
  </script>
</body>
</html>
